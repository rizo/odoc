<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>manual_usage (odoc.manual_usage)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">odoc</a> &#x00BB; manual_usage</nav></header><h1 id="main"><a href="#main" class="anchor"></a>Invoking odoc manually</h1><p>odoc works in two steps:</p><ol><li><span class="xref-unresolved" title="unresolved reference to &quot;compile&quot;"><span><code>odoc compile</code></span></span>: produces a <code>.odoc</code> file from the build artifacts of the compiler</li><li><span class="xref-unresolved" title="unresolved reference to &quot;html&quot;"><span><code>odoc html</code></span></span>: produces html files from a <code>.odoc</code> file.</li></ol><h2 id="compile"><a href="#compile" class="anchor"></a>The compilation step</h2><p>In this step, <code>odoc</code> will work on <code>.cmti</code>, <code>.cmt</code> and <code>.cmi</code> files and produce a <code>.odoc</code> file.</p><p><code>odoc compile</code> is meant to be invoked in the same way that the ocaml compiler was, that is: if a unit <code>Foo</code> depends on a unit <code>Bar</code>, then you must call odoc on <code>Bar</code> first.</p><p>Also, just as you add directories to the compiler load path using <code>-I</code> so that it can find <code>.cmi</code> files, you must tell odoc in which directories it can find the <code>.odoc</code> files it needs (for <span class="xref-unresolved" title="unresolved reference to &quot;DocOck.resolving&quot;"><span>resolving</span></span>, and <span class="xref-unresolved" title="unresolved reference to &quot;DocOck.expansion&quot;"><span>expansion</span></span>) using <code>-I</code>.</p><p>Omitting some directories from odoc's include list is not a fatal error, it simply means that odoc won't be able to resolve some paths and references.</p><h3 id="hand-written-documentation-pages"><a href="#hand-written-documentation-pages" class="anchor"></a>Hand written documentation pages</h3><p>As said previously, <code>odoc compile</code> accepts build artifacts of the compiler as inputs. However, it also accepts <code>.mld</code> files. These are manually written (textual) files in the same <span class="xref-unresolved" title="unresolved reference to &quot;syntax.accepted_syntax&quot;"><span>syntax</span></span> as usual documentation comments.</p><p>By default <code>foo.mld</code> will be translated to <code>page-foo.odoc</code> which in turn will become <code>foo.html</code>.</p><p>For more details, have a look at:</p><pre><code>$ odoc compile --help</code></pre><h2 id="html"><a href="#html" class="anchor"></a>Emitting html</h2><p><code>odoc html</code> takes a <code>.odoc</code> file and produces either a single html file (in case of hand written pages) or a directory tree reflecting the structure of the compilation unit being documented.</p><p>This step does also do another round of resolving and expansion, to handle the forward references which couldn't be properly processed by <code>odoc compile</code>. In this step the dependency between compilation units of your library is irrelevant (so you can process files in any order you want), dependencies are considered only at a package level: all the packages you depend on should have been <code>odoc
compile</code>d already and their <code>.odoc</code> file should be made available to odoc for every single file it processes.</p><p>For more details, have a look at:</p><pre><code>$ odoc html --help</code></pre></div></body></html>